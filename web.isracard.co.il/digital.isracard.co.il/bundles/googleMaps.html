function MapLabel(n){this.set("fontFamily","sans-serif");this.set("fontSize",12);this.set("fontColor","#000000");this.set("strokeWeight",4);this.set("strokeColor","#ffffff");this.set("align","center");this.set("zIndex",1e3);this.setValues(n)}(function(){var n=angular.module("app.Common.GoogleMapsModule",[])})();var app;(function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){this.restrict="AE";this.template='<div class="map_canvas_directive" style="height:100%; width:100%;"><\/div>';this.link=function(n,t,i){var s=t.children(".map_canvas_directive")[0],e=i.address,r=i.markertitle,u,f,o=!1,h=new google.maps.Geocoder;h.geocode({address:e},function(n,t){var c,l;t===google.maps.GeocoderStatus.OK?(u=n[0].geometry.location.lng(),f=n[0].geometry.location.lat()):(o=!0,u=34.777819,f=32.066158);var i=new google.maps.LatLng(f,u),a={center:i,mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:16},h=new google.maps.Map(s,a);r&&r!=""&&o==!1&&(c=new MapLabel({text:e.replace(/\s+/g," "),position:i,map:h,fontSize:16,align:"left",fontColor:"#900000"}),l=new google.maps.Marker({position:i,map:h,title:r}))})}}return n}();n.googleMapsArea=t;angular.module("app.Common.GoogleMapsModule").directive("googleMapsArea",[function(){return new n.googleMapsArea}])})(t=n.GoogleMapsModule||(n.GoogleMapsModule={}))})(t=n.Common||(n.Common={}))})(app||(app={}));MapLabel.prototype=new google.maps.OverlayView;window.MapLabel=MapLabel;MapLabel.prototype.changed=function(n){switch(n){case"fontFamily":case"fontSize":case"fontColor":case"strokeWeight":case"strokeColor":case"align":case"text":return this.drawCanvas_();case"maxZoom":case"minZoom":case"position":return this.draw()}};MapLabel.prototype.drawCanvas_=function(){var i=this.canvas_,u,n,t,r,f,e;i&&(u=i.style,u.zIndex=this.get("zIndex"),n=i.getContext("2d"),n.clearRect(0,0,i.width,i.height),n.strokeStyle=this.get("strokeColor"),n.fillStyle=this.get("fontColor"),n.font=this.get("fontSize")+"px "+this.get("fontFamily"),t=Number(this.get("strokeWeight")),r=this.get("text"),r&&(t&&(n.lineWidth=t,n.strokeText(r,t,t)),n.fillText(r,t,t),f=n.measureText(r),e=f.width+t,u.marginLeft=this.getMarginLeft_(e)+"px",u.marginTop="-0.4em"))};MapLabel.prototype.onAdd=function(){var n=this.canvas_=document.createElement("canvas"),r=n.style,t,i;r.position="absolute";t=n.getContext("2d");t.lineJoin="round";t.textBaseline="top";this.drawCanvas_();i=this.getPanes();i&&i.mapPane.appendChild(n)};MapLabel.prototype.onAdd=MapLabel.prototype.onAdd;MapLabel.prototype.getMarginLeft_=function(n){switch(this.get("align")){case"left":return 0;case"right":return-n}return n/-2};MapLabel.prototype.draw=function(){var r=this.getProjection(),t,i,n;r&&(t=this.get("position"),t)&&(i=r.fromLatLngToDivPixel(t),n=this.canvas_.style,n.top=i.y+"px",n.left=i.x+"px",n.visibility=this.getVisible_())};MapLabel.prototype.draw=MapLabel.prototype.draw;MapLabel.prototype.getVisible_=function(){var i=this.get("minZoom"),r=this.get("maxZoom"),n,t;return i===undefined&&r===undefined?"":(n=this.getMap(),!n)?"":(t=n.getZoom(),t<i||t>r)?"hidden":""};MapLabel.prototype.onRemove=function(){var n=this.canvas_;n&&n.parentNode&&n.parentNode.removeChild(n)};MapLabel.prototype.onRemove=MapLabel.prototype.onRemove